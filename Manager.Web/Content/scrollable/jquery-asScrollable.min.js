(function(n,t){if(typeof define=="function"&&define.amd)define(["exports","jQuery"],t);else if(typeof exports!="undefined")t(exports,require("jQuery"));else{var i={exports:{}};t(i.exports,n.jQuery);n.jqueryAsScrollable=i.exports}})(this,function(n,t){"use strict";function nt(n){return n&&n.__esModule?n:{"default":n}}function y(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}var i,o,f,a,v,h,c,e;Object.defineProperty(n,"__esModule",{value:!0});i=nt(t);o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol?"symbol":typeof n};var p=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),tt={namespace:"asScrollbar",skin:null,handleSelector:null,handleTemplate:'<div class="{{handle}}"><\/div>',barClass:null,handleClass:null,disabledClass:"is-disabled",draggingClass:"is-dragging",hoveringClass:"is-hovering",direction:"vertical",barLength:null,handleLength:null,minHandleLength:30,maxHandleLength:null,mouseDrag:!0,touchDrag:!0,pointerDrag:!0,clickMove:!0,clickMoveStep:.3,mousewheel:!0,mousewheelSpeed:50,keyboard:!0,useCssTransforms3d:!0,useCssTransforms:!0,useCssTransitions:!0,duration:"500",easing:"ease"},s=function(n,t,i,r){var u=function(n,t){return 1-3*t+3*n},f=function(n,t){return 3*t-6*n},e=function(n){return 3*n},o=function(n,t,i){return((u(t,i)*n+f(t,i))*n+e(t))*n},s=function(n,t,i){return 3*u(t,i)*n*n+2*f(t,i)*n+e(t)},h=function(t){for(var u,e,r=t,f=0;f<4;++f){if(u=s(r,n,i),u===0)return r;e=o(r,n,i)-t;r-=e/u}return r};return n===t&&i===r?{css:"linear",fn:function(n){return n}}:{css:"cubic-bezier("+n+","+t+","+i+","+r+")",fn:function(n){return o(h(n),t,r)}}},w=function(n){return typeof n=="string"&&n.indexOf("%")!==-1},b=function(n){return parseFloat(n.slice(0,-1)/100,10)},it=function(n){return n&&n.substr(0,6)==="matrix"?n.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/):!1},r={};for(function(n){var f={transition:{end:{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}},animation:{end:{WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd",animation:"animationend"}}},o=["webkit","Moz","O","ms"],e=i.default("<support>").get(0).style,r={csstransforms:function(){return Boolean(t("transform"))},csstransforms3d:function(){return Boolean(t("perspective"))},csstransitions:function(){return Boolean(t("transition"))},cssanimations:function(){return Boolean(t("animation"))}},t=function(n,t){var r=!1,u=n.charAt(0).toUpperCase()+n.slice(1);return(e[n]!==undefined&&(r=n),r||i.default.each(o,function(n,t){return e[t+u]!==undefined?(r="-"+t.toLowerCase()+"-"+u,!1):!0}),t)?r:r?!0:!1},u=function(n){return t(n,!0)};r.csstransitions()&&(n.transition=new String(u("transition")),n.transition.end=f.transition.end[n.transition]);r.cssanimations()&&(n.animation=new String(u("animation")),n.animation.end=f.animation.end[n.animation]);r.csstransforms()&&(n.transform=new String(u("transform")),n.transform3d=r.csstransforms3d());n.touch="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch?!0:!1;n.pointer=window.PointerEvent||window.MSPointerEvent?!0:!1;n.prefixPointerEvent=function(n){return window.MSPointerEvent?"MSPointer"+n.charAt(9).toUpperCase()+n.substr(10):n}}(r),f="asScrollbar",Date.now||(Date.now=function(){return(new Date).getTime()}),a=function(){return typeof performance!="undefined"&&window.performance.now?window.performance.now():Date.now()},v=["webkit","moz"],h=0;h<v.length&&!window.requestAnimationFrame;++h)c=v[h],window.requestAnimationFrame=window[c+"RequestAnimationFrame"],window.cancelAnimationFrame=window[c+"CancelAnimationFrame"]||window[c+"CancelRequestAnimationFrame"];!/iP(ad|hone|od).*OS (6|7|8)/.test(window.navigator.userAgent)&&window.requestAnimationFrame&&window.cancelAnimationFrame||function(){var n=0;window.requestAnimationFrame=function(t){var i=a(),r=Math.max(n+16,i);return setTimeout(function(){t(n=r)},r-i)};window.cancelAnimationFrame=clearTimeout}();e=function(){function n(t,r){y(this,n);this.$bar=i.default(r);t=this.options=i.default.extend({},tt,t||{},this.$bar.data("options")||{});r.direction=this.options.direction;this.classes={directionClass:t.namespace+"-"+t.direction,barClass:t.barClass?t.barClass:t.namespace,handleClass:t.handleClass?t.handleClass:t.namespace+"-handle"};this.options.direction==="vertical"?this.attributes={axis:"Y",position:"top",length:"height",clientLength:"clientHeight"}:this.options.direction==="horizontal"&&(this.attributes={axis:"X",position:"left",length:"width",clientLength:"clientWidth"});this._states={};this._drag={time:null,pointer:null};this._frameId=null;this.handlePosition=0;this.easing=n.easing[this.options.easing]||n.easing.ease;this.init()}return p(n,[{key:"init",value:function(){var n=this.options;this.$handle=this.$bar.find(this.options.handleSelector);this.$handle.length===0?this.$handle=i.default(n.handleTemplate.replace(/\{\{handle\}\}/g,this.classes.handleClass)).appendTo(this.$bar):this.$handle.addClass(this.classes.handleClass);this.$bar.addClass(this.classes.barClass).addClass(this.classes.directionClass).attr("draggable",!1);n.skin&&this.$bar.addClass(n.skin);n.barLength!==null&&this.setBarLength(n.barLength);n.handleLength!==null&&this.setHandleLength(n.handleLength);this.updateLength();this.bindEvents()}},{key:"trigger",value:function(n){for(var o,u,s,e,i=arguments.length,r=Array(i>1?i-1:0),t=1;t<i;t++)r[t-1]=arguments[t];o=(e=[this]).concat.apply(e,r);this.$bar.trigger(f+"::"+n,o);n=n.replace(/\b\w+\b/g,function(n){return n.substring(0,1).toUpperCase()+n.substring(1)});u="on"+n;typeof this.options[u]=="function"&&(s=this.options[u]).apply.apply(s,[this].concat(r))}},{key:"is",value:function(n){return this._states[n]&&this._states[n]>0}},{key:"enter",value:function(n){this._states[n]===undefined&&(this._states[n]=0);this._states[n]++}},{key:"leave",value:function(n){this._states[n]--}},{key:"eventName",value:function(n){var i,t;if(typeof n!="string"||n==="")return"."+this.options.namespace;for(n=n.split(" "),i=n.length,t=0;t<i;t++)n[t]=n[t]+"."+this.options.namespace;return n.join(" ")}},{key:"bindEvents",value:function(){var n=this;if(this.options.mouseDrag){this.$handle.on(this.eventName("mousedown"),i.default.proxy(this.onDragStart,this));this.$handle.on(this.eventName("dragstart selectstart"),function(){return!1})}if(this.options.touchDrag&&r.touch){this.$handle.on(this.eventName("touchstart"),i.default.proxy(this.onDragStart,this));this.$handle.on(this.eventName("touchcancel"),i.default.proxy(this.onDragEnd,this))}if(this.options.pointerDrag&&r.pointer){this.$handle.on(this.eventName(r.prefixPointerEvent("pointerdown")),i.default.proxy(this.onDragStart,this));this.$handle.on(this.eventName(r.prefixPointerEvent("pointercancel")),i.default.proxy(this.onDragEnd,this))}if(this.options.clickMove)this.$bar.on(this.eventName("mousedown"),i.default.proxy(this.onClick,this));if(this.options.mousewheel)this.$bar.on(this.eventName("mousewheel"),function(t,i){var r=n.getHandlePosition();return r<=0&&i>0?!0:r>=n.barLength&&i<0?!0:(r-=n.options.mousewheelSpeed*i,n.move(r,!0),!1)});this.$bar.on(this.eventName("mouseenter"),function(){n.$bar.addClass(n.options.hoveringClass);n.enter("hovering");n.trigger("hover")});this.$bar.on(this.eventName("mouseleave"),function(){(n.$bar.removeClass(n.options.hoveringClass),n.is("hovering"))&&(n.leave("hovering"),n.trigger("hovered"))});if(this.options.keyboard)i.default(document).on(this.eventName("keydown"),function(t){var u;if((!t.isDefaultPrevented||!t.isDefaultPrevented())&&n.is("hovering")){for(u=document.activeElement;u.shadowRoot;)u=u.shadowRoot.activeElement;if(!i.default(u).is(":input,select,option,[contenteditable]")){var r=0,f=null;switch(t.which){case 37:case 63232:r=-30;break;case 38:case 63233:r=-30;break;case 39:case 63234:r=30;break;case 40:case 63235:r=30;break;case 33:case 63276:r=-90;break;case 32:case 34:case 63277:r=-90;break;case 35:case 63275:f="100%";break;case 36:case 63273:f=0;break;default:return}(r||f!==null)&&(r?n.moveBy(r,!0):f!==null&&n.moveTo(f,!0),t.preventDefault())}}})}},{key:"onClick",value:function(n){if(n.which!==3&&n.target!==this.$handle[0]){this._drag.time=(new Date).getTime();this._drag.pointer=this.pointer(n);var i=this.$handle.offset(),t=this.distance({x:i.left,y:i.top},this._drag.pointer),r=1;t>0?t-=this.handleLength:(t=Math.abs(t),r=-1);t>this.barLength*this.options.clickMoveStep&&(t=this.barLength*this.options.clickMoveStep);this.moveBy(r*t,!0)}}},{key:"onDragStart",value:function(n){var t=this,u;if(n.which!==3){if(this.$bar.addClass(this.options.draggingClass),this._drag.time=(new Date).getTime(),this._drag.pointer=this.pointer(n),u=function(){t.enter("dragging");t.trigger("drag")},this.options.mouseDrag){i.default(document).on(this.eventName("mouseup"),i.default.proxy(this.onDragEnd,this));i.default(document).one(this.eventName("mousemove"),i.default.proxy(function(){i.default(document).on(t.eventName("mousemove"),i.default.proxy(t.onDragMove,t));u()},this))}if(this.options.touchDrag&&r.touch){i.default(document).on(this.eventName("touchend"),i.default.proxy(this.onDragEnd,this));i.default(document).one(this.eventName("touchmove"),i.default.proxy(function(){i.default(document).on(t.eventName("touchmove"),i.default.proxy(t.onDragMove,t));u()},this))}if(this.options.pointerDrag&&r.pointer){i.default(document).on(this.eventName(r.prefixPointerEvent("pointerup")),i.default.proxy(this.onDragEnd,this));i.default(document).one(this.eventName(r.prefixPointerEvent("pointermove")),i.default.proxy(function(){i.default(document).on(t.eventName(r.prefixPointerEvent("pointermove")),i.default.proxy(t.onDragMove,t));u()},this))}i.default(document).on(this.eventName("blur"),i.default.proxy(this.onDragEnd,this))}}},{key:"onDragMove",value:function(n){var t=this.distance(this._drag.pointer,this.pointer(n));this.is("dragging")&&(n.preventDefault(),this.moveBy(t,!0))}},{key:"onDragEnd",value:function(){(i.default(document).off(this.eventName("mousemove mouseup touchmove touchend pointermove pointerup MSPointerMove MSPointerUp blur")),this.$bar.removeClass(this.options.draggingClass),this.handlePosition=this.getHandlePosition(),this.is("dragging"))&&(this.leave("dragging"),this.trigger("dragged"))}},{key:"pointer",value:function(n){var t={x:null,y:null};return n=n.originalEvent||n||window.event,n=n.touches&&n.touches.length?n.touches[0]:n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,n.pageX?(t.x=n.pageX,t.y=n.pageY):(t.x=n.clientX,t.y=n.clientY),t}},{key:"distance",value:function(n,t){return this.options.direction==="vertical"?t.y-n.y:t.x-n.x}},{key:"setBarLength",value:function(n,t){typeof n!="undefined"&&this.$bar.css(this.attributes.length,n);t!==!1&&this.updateLength()}},{key:"setHandleLength",value:function(n,t){typeof n!="undefined"&&(n<this.options.minHandleLength?n=this.options.minHandleLength:this.options.maxHandleLength&&n>this.options.maxHandleLength&&(n=this.options.maxHandleLength),this.$handle.css(this.attributes.length,n),t!==!1&&this.updateLength(n))}},{key:"updateLength",value:function(n,t){this.handleLength=typeof n!="undefined"?n:this.getHandleLenght();this.barLength=typeof t!="undefined"?t:this.getBarLength()}},{key:"getBarLength",value:function(){return this.$bar[0][this.attributes.clientLength]}},{key:"getHandleLenght",value:function(){return this.$handle[0][this.attributes.clientLength]}},{key:"getHandlePosition",value:function(){var n=void 0;if(this.options.useCssTransforms&&r.transform){if(n=it(this.$handle.css(r.transform)),!n)return 0;n=this.attributes.axis==="X"?n[12]||n[4]:n[13]||n[5]}else n=this.$handle.css(this.attributes.position);return parseFloat(n.replace("px",""))}},{key:"makeHandlePositionStyle",value:function(n){var t=void 0,i="0",u="0",f;return this.options.useCssTransforms&&r.transform?(this.attributes.axis==="X"?i=n+"px":u=n+"px",t=r.transform.toString(),n=this.options.useCssTransforms3d&&r.transform3d?"translate3d("+i+","+u+",0)":"translate("+i+","+u+")"):t=this.attributes.position,f={},f[t]=n,f}},{key:"setHandlePosition",value:function(n){var t=this.makeHandlePositionStyle(n);this.$handle.css(t);this.is("dragging")||(this.handlePosition=parseFloat(n))}},{key:"moveTo",value:function(n,t,i){var r=typeof n=="undefined"?"undefined":o(n);(r==="string"&&(w(n)&&(n=b(n)*(this.barLength-this.handleLength)),n=parseFloat(n),r="number"),r==="number")&&this.move(n,t,i)}},{key:"moveBy",value:function(n,t,i){var r=typeof n=="undefined"?"undefined":o(n);(r==="string"&&(w(n)&&(n=b(n)*(this.barLength-this.handleLength)),n=parseFloat(n),r="number"),r==="number")&&this.move(this.handlePosition+n,t,i)}},{key:"move",value:function(n,t,i){typeof n!="number"||this.is("disabled")||(n<0?n=0:n+this.handleLength>this.barLength&&(n=this.barLength-this.handleLength),this.is("dragging")||i===!0?(this.setHandlePosition(n),t&&this.trigger("change",n/(this.barLength-this.handleLength))):this.doMove(n,this.options.duration,this.options.easing,t))}},{key:"doMove",value:function(n,t,i,u){var f=this,e=void 0,o;this.enter("moving");t=t?t:this.options.duration;i=i?i:this.options.easing;o=this.makeHandlePositionStyle(n);for(e in o)if({}.hasOwnProperty.call(o,e))break;if(this.options.useCssTransitions&&r.transition){this.enter("transition");this.prepareTransition(e,t,i);this.$handle.one(r.transition.end,function(){f.$handle.css(r.transition,"");u&&f.trigger("change",n/(f.barLength-f.handleLength));f.leave("transition");f.leave("moving")});this.setHandlePosition(n)}else(function(){f.enter("animating");var r=a(),t=f.getHandlePosition(),e=n,i=function i(n){var o=(n-r)/f.options.duration,h,s;o>1&&(o=1);o=f.easing.fn(o);h=10;s=parseFloat(t+o*(e-t),h);f.setHandlePosition(s);u&&f.trigger("change",s/(f.barLength-f.handleLength));o===1?(window.cancelAnimationFrame(f._frameId),f._frameId=null,f.leave("animating"),f.leave("moving")):f._frameId=window.requestAnimationFrame(i)};f._frameId=window.requestAnimationFrame(i)})()}},{key:"prepareTransition",value:function(n,t,u,f){var e=[];n&&e.push(n);t&&(i.default.isNumeric(t)&&(t=t+"ms"),e.push(t));u?e.push(u):e.push(this.easing.css);f&&e.push(f);this.$handle.css(r.transition,e.join(" "))}},{key:"enable",value:function(){this._states.disabled=0;this.$bar.removeClass(this.options.disabledClass)}},{key:"disable",value:function(){this._states.disabled=1;this.$bar.addClass(this.options.disabledClass)}},{key:"destory",value:function(){this.$bar.on(this.eventName())}}],[{key:"_jQueryInterface",value:function(t){for(var u=arguments.length,e=Array(u>1?u-1:0),r=1;r<u;r++)e[r-1]=arguments[r];return typeof t=="string"?this.each(function(){var n=i.default(this).data(f);return n?!i.default.isFunction(n[t])||t.charAt(0)==="_"?!1:n[t].apply(n,e):!1}):this.each(function(){i.default(this).data(f)||i.default(this).data(f,new n(t,this))})}}]),n}();e.support=r;i.default.extend(e.easing={},{ease:s(.25,.1,.25,1),linear:s(0,0,1,1),"ease-in":s(.42,0,1,1),"ease-out":s(0,0,.58,1),"ease-in-out":s(.42,0,.58,1)});i.default.fn[f]=e._jQueryInterface;i.default.fn[f].constructor=e;i.default.fn[f].noConflict=function(){return i.default.fn[f]=window.JQUERY_NO_CONFLICT,e._jQueryInterface};var rt={namespace:"asScrollable",skin:null,contentSelector:null,containerSelector:null,enabledClass:"is-enabled",disabledClass:"is-disabled",draggingClass:"is-dragging",hoveringClass:"is-hovering",scrollingClass:"is-scrolling",direction:"vertical",showOnHover:!0,showOnBarHover:!1,duration:500,easing:"ease-in",responsive:!0,throttle:20,scrollbar:{}},ut=function(){return typeof performance!="undefined"&&window.performance.now?window.performance.now():Date.now()},k=function(n){return typeof n=="string"&&n.indexOf("%")!==-1},d=function(n){return n<0?n=0:n>1&&(n=1),parseFloat(n).toFixed(4)*100+"%"},g=function(n){return parseFloat(n.slice(0,-1)/100,10)},ft=function(){var t=void 0,i=void 0,n=void 0;return(i=window.navigator.userAgent,t=/(?=.+Mac OS X)(?=.+Firefox)/.test(i),!t)?!1:(n=/Firefox\/\d{2}\./.exec(i),n&&(n=n[0].replace(/\D+/g,"")),t&&+n>23)}(),u="asScrollable",et=0,l=function(){function n(t,r){y(this,n);this.$element=i.default(r);t=this.options=i.default.extend({},rt,t||{},this.$element.data("options")||{});this.classes={wrap:t.namespace,content:t.namespace+"-content",container:t.namespace+"-container",bar:t.namespace+"-bar",barHide:t.namespace+"-bar-hide",skin:t.skin};this.attributes={vertical:{axis:"Y",overflow:"overflow-y",scroll:"scrollTop",scrollLength:"scrollHeight",pageOffset:"pageYOffset",ffPadding:"padding-right",length:"height",clientLength:"clientHeight",offset:"offsetHeight",crossLength:"width",crossClientLength:"clientWidth",crossOffset:"offsetWidth"},horizontal:{axis:"X",overflow:"overflow-x",scroll:"scrollLeft",scrollLength:"scrollWidth",pageOffset:"pageXOffset",ffPadding:"padding-bottom",length:"width",clientLength:"clientWidth",offset:"offsetWidth",crossLength:"height",crossClientLength:"clientHeight",crossOffset:"offsetHeight"}};this._states={};this.horizontal=null;this.vertical=null;this.$bar=null;this._frameId=null;this._timeoutId=null;this.instanceId=++et;this.easing=e.easing[this.options.easing]||e.easing.ease;var u=this.$element.css("position");this.options.containerSelector?(this.$container=this.$element.find(this.options.containerSelector),this.$wrap=this.$element,u==="static"&&this.$wrap.css("position","relative")):(this.$container=this.$element.wrap("<div>"),this.$wrap=this.$container.parent(),this.$wrap.height(this.$element.height()),u!=="static"?this.$wrap.css("position",u):this.$wrap.css("position","relative"));this.options.contentSelector?this.$content=this.$container.find(this.options.contentSelector):(this.$content=this.$container.wrap("<div>"),this.$container=this.$content.parent());this.init()}return p(n,[{key:"init",value:function(){switch(this.options.direction){case"vertical":this.vertical=!0;break;case"horizontal":this.horizontal=!0;break;case"both":this.horizontal=!0;this.vertical=!0;break;case"auto":var n=this.$element.css("overflow-x"),t=this.$element.css("overflow-y");(n==="scroll"||n==="auto")&&(this.horizontal=!0);(t==="scroll"||t==="auto")&&(this.vertical=!0)}(this.vertical||this.horizontal)&&(this.$wrap.addClass(this.classes.wrap),this.$container.addClass(this.classes.container),this.$content.addClass(this.classes.content),this.options.skin&&this.$wrap.addClass(this.classes.skin),this.$wrap.addClass(this.options.enabledClass),this.vertical&&(this.$wrap.addClass(this.classes.wrap+"-vertical"),this.initLayout("vertical"),this.createBar("vertical")),this.horizontal&&(this.$wrap.addClass(this.classes.wrap+"-horizontal"),this.initLayout("horizontal"),this.createBar("horizontal")),this.bindEvents())}},{key:"bindEvents",value:function(){var n=this,t=this;if(this.options.responsive){i.default(window).on(this.eventNameWithId("orientationchange"),function(){n.update()});i.default(window).on(this.eventNameWithId("resize"),this.throttle(function(){n.update()},this.options.throttle))}if(this.horizontal||this.vertical){this.$wrap.on(this.eventName("mouseenter"),function(){n.$wrap.addClass(n.options.hoveringClass);n.enter("hovering");n.trigger("hover")});this.$wrap.on(this.eventName("mouseleave"),function(){(n.$wrap.removeClass(n.options.hoveringClass),n.is("hovering"))&&(n.leave("hovering"),n.trigger("hovered"))});if(this.options.showOnHover)if(this.options.showOnBarHover)this.$bar.on("asScrollbar::hover",function(){t.showBar(this.direction)}).on("asScrollbar::hovered",function(){t.hideBar(this.direction)});else{this.$element.on(u+"::hover",i.default.proxy(this.showBar,this));this.$element.on(u+"::hovered",i.default.proxy(this.hideBar,this))}this.$container.on(this.eventName("scroll"),function(){var t,i;n.horizontal&&(t=n.offsetLeft,n.offsetLeft=n.getOffset("horizontal"),t!==n.offsetLeft&&(n.trigger("scroll",n.getPercentOffset("horizontal"),"horizontal"),n.offsetLeft===0&&n.trigger("scrolltop","horizontal"),n.offsetLeft===n.getScrollLength("horizontal")&&n.trigger("scrollend","horizontal")));n.vertical&&(i=n.offsetTop,n.offsetTop=n.getOffset("vertical"),i!==n.offsetTop&&(n.trigger("scroll",n.getPercentOffset("vertical"),"vertical"),n.offsetTop===0&&n.trigger("scrolltop","vertical"),n.offsetTop===n.getScrollLength("vertical")&&n.trigger("scrollend","vertical")))});this.$element.on(u+"::scroll",function(t,i,r,u){n.is("scrolling")||(n.enter("scrolling"),n.$wrap.addClass(n.options.scrollingClass));var f=i.getBarApi(u);f.moveTo(d(r),!1,!0);clearTimeout(n._timeoutId);n._timeoutId=setTimeout(function(){n.$wrap.removeClass(n.options.scrollingClass);n.leave("scrolling")},200)});this.$bar.on("asScrollbar::change",function(n,i,r){t.scrollTo(this.direction,d(r),!1,!0)});this.$bar.on("asScrollbar::drag",function(){n.$wrap.addClass(n.options.draggingClass)}).on("asScrollbar::dragged",function(){n.$wrap.removeClass(n.options.draggingClass)})}}},{key:"unbindEvents",value:function(){this.$wrap.off(this.eventName());this.$element.off(u+"::scroll").off(u+"::hover").off(u+"::hovered");this.$container.off(this.eventName());i.default(window).off(this.eventNameWithId())}},{key:"initLayout",value:function(n){n==="vertical"&&this.$container.css("height",this.$wrap.height());var t=this.attributes[n],u=this.$container[0],i=u.parentNode[t.crossClientLength],r=this.getBrowserScrollbarWidth(n);this.$content.css(t.crossLength,i+"px");this.$container.css(t.crossLength,""+r+i+"px");r===0&&ft&&this.$container.css(t.ffPadding,16)}},{key:"createBar",value:function(n){var r=i.default.extend(this.options.scrollbar,{namespace:this.classes.bar,direction:n,useCssTransitions:!1,keyboard:!1}),t=i.default("<div>");t.asScrollbar(r);this.options.showOnHover&&t.addClass(this.classes.barHide);t.appendTo(this.$wrap);this["$"+n]=t;this.$bar=this.$bar===null?t:this.$bar.add(t);this.updateBarHandle(n)}},{key:"trigger",value:function(n){for(var e,f,i=arguments.length,r=Array(i>1?i-1:0),t=1;t<i;t++)r[t-1]=arguments[t];e=[this].concat(r);this.$element.trigger(u+"::"+n,e);n=n.replace(/\b\w+\b/g,function(n){return n.substring(0,1).toUpperCase()+n.substring(1)});f="on"+n;typeof this.options[f]=="function"&&this.options[f].apply(this,r)}},{key:"is",value:function(n){return this._states[n]&&this._states[n]>0}},{key:"enter",value:function(n){this._states[n]===undefined&&(this._states[n]=0);this._states[n]++}},{key:"leave",value:function(n){this._states[n]--}},{key:"eventName",value:function(n){var i,t;if(typeof n!="string"||n==="")return"."+this.options.namespace;for(n=n.split(" "),i=n.length,t=0;t<i;t++)n[t]=n[t]+"."+this.options.namespace;return n.join(" ")}},{key:"eventNameWithId",value:function(n){var i,t;if(typeof n!="string"||n==="")return this.options.namespace+"-"+this.instanceId;for(n=n.split(" "),i=n.length,t=0;t<i;t++)n[t]=n[t]+"."+this.options.namespace+"-"+this.instanceId;return n.join(" ")}},{key:"throttle",value:function(n,t){var o=Date.now||function(){return(new Date).getTime()},i=void 0,r=void 0,f=void 0,u=null,e=0,s=function(){e=o();u=null;f=n.apply(r,i);r=i=null};return function(){var h=o(),c=t-(h-e);return r=this,i=arguments,c<=0?(clearTimeout(u),u=null,e=h,f=n.apply(r,i),r=i=null):u||(u=setTimeout(s,c)),f}}},{key:"getBrowserScrollbarWidth",value:function(n){var t=this.attributes[n],i=void 0,r=void 0;return t.scrollbarWidth?t.scrollbarWidth:(i=document.createElement("div"),r=i.style,r.position="absolute",r.width="100px",r.height="100px",r.overflow="scroll",r.top="-9999px",document.body.appendChild(i),t.scrollbarWidth=i[t.offset]-i[t.clientLength],document.body.removeChild(i),t.scrollbarWidth)}},{key:"getOffset",value:function(n){var t=this.attributes[n],i=this.$container[0];return i[t.pageOffset]||i[t.scroll]}},{key:"getPercentOffset",value:function(n){return this.getOffset(n)/this.getScrollLength(n)}},{key:"getContainerLength",value:function(n){return this.$container[0][this.attributes[n].clientLength]}},{key:"getScrollLength",value:function(n){var t=this.$content[0][this.attributes[n].scrollLength];return t-this.getContainerLength(n)}},{key:"scrollTo",value:function(n,t,i,r){var u=typeof t=="undefined"?"undefined":o(t);(u==="string"&&(k(t)&&(t=g(t)*this.getScrollLength(n)),t=parseFloat(t),u="number"),u==="number")&&this.move(n,t,i,r)}},{key:"scrollBy",value:function(n,t,i,r){var u=typeof t=="undefined"?"undefined":o(t);(u==="string"&&(k(t)&&(t=g(t)*this.getScrollLength(n)),t=parseFloat(t),u="number"),u==="number")&&this.move(n,this.getOffset(n)+t,i,r)}},{key:"move",value:function(n,t,i,r){var u=this,f,e;this[n]===!0&&typeof t=="number"&&(this.enter("moving"),t<0?t=0:t>this.getScrollLength(n)&&(t=this.getScrollLength(n)),f=this.attributes[n],e=function(){u.leave("moving")},r?(this.$container[0][f.scroll]=t,i!==!1&&this.trigger("change",t/this.getScrollLength(n)),e()):function(){u.enter("animating");var s=ut(),r=u.getOffset(n),h=t,o=function o(c){var l=(c-s)/u.options.duration,a;l>1&&(l=1);l=u.easing.fn(l);a=parseFloat(r+l*(h-r),10);u.$container[0][f.scroll]=a;i!==!1&&u.trigger("change",t/u.getScrollLength(n));l===1?(window.cancelAnimationFrame(u._frameId),u._frameId=null,u.leave("animating"),e()):u._frameId=window.requestAnimationFrame(o)};u._frameId=window.requestAnimationFrame(o)}())}},{key:"scrollXto",value:function(n,t,i){return this.scrollTo("horizontal",n,t,i)}},{key:"scrollYto",value:function(n,t,i){return this.scrollTo("vertical",n,t,i)}},{key:"scrollXby",value:function(n,t,i){return this.scrollBy("horizontal",n,t,i)}},{key:"scrollYby",value:function(n,t,i){return this.scrollBy("vertical",n,t,i)}},{key:"getBar",value:function(n){return n&&this["$"+n]?this["$"+n]:this.$bar}},{key:"getBarApi",value:function(n){return this.getBar(n).data("asScrollbar")}},{key:"getBarX",value:function(){return this.getBar("horizontal")}},{key:"getBarY",value:function(){return this.getBar("vertical")}},{key:"showBar",value:function(n){this.getBar(n).removeClass(this.classes.barHide)}},{key:"hideBar",value:function(n){this.getBar(n).addClass(this.classes.barHide)}},{key:"updateBarHandle",value:function(n){var t=this.getBarApi(n),i,r;t&&(i=this.getContainerLength(n),r=this.getScrollLength(n),r>0?(t.is("disabled")&&t.enable(),t.setHandleLength(t.getBarLength()*i/(r+i),!0)):t.disable())}},{key:"disable",value:function(){this.is("disabled")||(this.enter("disabled"),this.$wrap.addClass(this.options.disabledClass).removeClass(this.options.enabledClass),this.unbindEvents(),this.unStyle())}},{key:"enable",value:function(){this.is("disabled")&&(this.leave("disabled"),this.$wrap.addClass(this.options.enabledClass).removeClass(this.options.disabledClass),this.bindEvents(),this.update())}},{key:"update",value:function(){this.is("disabled")||(this.vertical&&(this.initLayout("vertical"),this.updateBarHandle("vertical")),this.horizontal&&(this.initLayout("horizontal"),this.updateBarHandle("horizontal")))}},{key:"unStyle",value:function(){this.horizontal&&(this.$container.css({height:"","padding-bottom":""}),this.$content.css({height:""}));this.vertical&&(this.$container.css({width:"",height:"","padding-right":""}),this.$content.css({width:""}));this.options.containerSelector||this.$wrap.css({height:""})}},{key:"destory",value:function(){this.$wrap.removeClass(this.classes.wrap+"-vertical").removeClass(this.classes.wrap+"-horizontal").removeClass(this.classes.wrap).removeClass(this.options.enabledClass).removeClass(this.classes.disabledClass);this.unStyle();this.$bar&&this.$bar.remove();this.unbindEvents();this.options.containerSelector?this.$container.removeClass(this.classes.container):this.$container.unwrap();this.options.contentSelector||this.$content.unwrap();this.$content.removeClass(this.classes.content);this.$element.data(u,null)}}],[{key:"_jQueryInterface",value:function(t){for(var f,h=this,e=arguments.length,s=Array(e>1?e-1:0),r=1;r<e;r++)s[r-1]=arguments[r];if(typeof t=="string"){if(f=function(){var n=t,r;if(/^\_/.test(n))return{v:!1};if(/^(get)/.test(n)){if(r=h.first().data(u),r&&typeof r[n]=="function")return{v:r[n].apply(r,s)}}else return{v:h.each(function(){var t=i.default.data(this,u);t&&typeof t[n]=="function"&&t[n].apply(t,s)})}}(),(typeof f=="undefined"?"undefined":o(f))==="object")return f.v}else return this.each(function(){i.default(this).data(u)?i.default(this).data(u).update():i.default(this).data(u,new n(t,this))});return this}}]),n}();i.default.fn[u]=l._jQueryInterface;i.default.fn[u].constructor=l;i.default.fn[u].noConflict=function(){return i.default.fn[u]=JQUERY_NO_CONFLICT,l._jQueryInterface};n.default=l});