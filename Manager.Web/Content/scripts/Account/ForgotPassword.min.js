var MODULE=function(n,t,i,r,u){"use strict";function o(t){e.settings=n.extend(e.settings,t);f=e;s()}function s(){var t=function(){var n=f.elems.getBGEffect();f.settings.background.setBGImage(n.selector,n.imageDefault,n.imageRandom);f.settings.background.setBGEffect(n.selector,n.effectType)},r=function(){var t=f.elems.getForgotPassword();f.settings.setFocusElem(t.form.find("input:not([type=hidden]):first"));f.settings.setDisabledElem(t.form.btn,!0);t.form.validate({rules:{ForgotPassword:{required:!0,minlength:f.validation.RESETPASSWORD.rule.Password_MinLength,maxlength:f.validation.RESETPASSWORD.rule.Password_MaxLength},ForgotPasswordRepeat:{required:!0,minlength:f.validation.RESETPASSWORD.rule.Password_MinLength,maxlength:f.validation.RESETPASSWORD.rule.Password_MaxLength,equalTo:"#ForgotPasswordInput"}},messages:{ForgotPassword:{required:u.localization.abpWeb("COMMON.MSG.VALIDATION.Mandatory"),minlength:u.localization.abpWeb("COMMON.MSG.VALIDATION.MinLength",f.validation.RESETPASSWORD.rule.Password_MinLength),maxlength:u.localization.abpWeb("COMMON.MSG.VALIDATION.MaxLength",f.validation.RESETPASSWORD.rule.Password_MaxLength)},ForgotPasswordRepeat:{required:u.localization.abpWeb("COMMON.MSG.VALIDATION.Mandatory"),minlength:u.localization.abpWeb("COMMON.MSG.VALIDATION.MinLength",f.validation.RESETPASSWORD.rule.Password_MinLength),maxlength:u.localization.abpWeb("COMMON.MSG.VALIDATION.MaxLength",f.validation.RESETPASSWORD.rule.Password_MaxLength),equalTo:u.localization.abpWeb("COMMON.MSG.VALIDATION.NotMatch")}},onkeyup:function(t){n(t).valid()},onfocusout:function(){return t.form.password.val()===t.form.passwordRepeat.val()},onclick:!1,highlight:function(n){f.validation.getHighlight(n);f.settings.setDisabledElem(t.form.btn,!0)},unhighlight:function(n){f.validation.getUnhighlight(n);t.form.find("div").hasClass("has-error")||t.form.password.val()!==t.form.passwordRepeat.val()||f.settings.setDisabledElem(t.form.btn,!1)},errorElement:"span",errorClass:"help-block",errorPlacement:function(n,t){n.insertAfter(t)}});t.form.btn.click(function(r){if(r.preventDefault(),t.form.valid()){var e={UserId:n.trim(t.form.userId.val()),Password:n.trim(t.form.password.val()),PasswordRepeat:n.trim(t.form.passwordRepeat.val()),PasswordResetCode:n.trim(t.form.passwordResetCode.val())};u.ui.setBusy(null,f.settings.callAjaxServer(t.form.url,e).done(function(n){u.notify.success(n.message);i.setTimeout(function(){u.ajax({url:n.targetUrl})},2e3)}))}})};t();r()}if(n){var f,e={settings:t.config.settings,elems:n.extend(t.config.elems,{getForgotPassword:function(){var t={};return t.area=n("#ForgotPasswordArea"),t.form=t.area.find("form"),t.form.url=u.appPath+"Account/ForgotPassword",t.form.userId=t.form.find("#ForgotPasswordUserIdInput"),t.form.password=t.form.find("#ForgotPasswordInput"),t.form.passwordRepeat=t.form.find("#ForgotPasswordRepeatInput"),t.form.passwordResetCode=t.form.find("#ForgotPasswordResetCodeInput"),t.form.btn=t.form.find("[type='submit']"),t},getBGEffect:function(){var t={};return t.area=n("#ForgotPasswordBGEffectArea"),t.selector=t.area.find("#particles-js"),t.imageRandom=!0,t.imageDefault=e.settings.background.selectorDefault,t.effectType=e.settings.background.effectType.PARTICLES,t}}),validation:n.extend(t.config.validation,{RESETPASSWORD:{rule:t.AREA.ACCOUNT.RESETPASSWORD.validation.getRules()}})};return{init:o}}}(jQuery,SITE||{},window,document,abp);MODULE.init();