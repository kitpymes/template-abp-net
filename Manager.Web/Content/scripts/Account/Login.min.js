var MODULE=function(n,t){"use strict";function u(t){r.settings=n.extend(r.settings,t);i=r;f()}function f(){var t=function(){var t=i.elems.getLogin();t.returnUrlHash.val(location.hash);t.loginSubmitBtn.attr("disabled",!0);t.loginForm.find("input").first().focus();t.loginForm.validate({rules:{EmailAddress:{required:!0,email:!0,maxlength:LoginEmailAddress_MaxLength},Password:{required:!0,minlength:LoginPassword_MinLength,maxlength:LoginPassword_MaxLength}},messages:{EmailAddress:{required:abp.localization.localize("EmailAddressMandatory","AbpWeb"),email:abp.localization.localize("EmailAddressInvalid","AbpWeb"),maxlength:abp.localization.localize("EmailAddressMaxLength","AbpWeb")},Password:{required:abp.localization.localize("PasswordMandatory","AbpWeb"),maxlength:abp.localization.localize("PasswordMaxLength","AbpWeb"),minlength:abp.localization.localize("PasswordMinLength","AbpWeb")}},onkeyup:function(t){n(t).valid()},onfocusout:!1,onclick:!1,highlight:function(n){i.validation.getHighlight(n);t.loginSubmitBtn.attr("disabled",!0)},unhighlight:function(n){i.validation.getUnhighlight(n);t.loginForm.find("div").hasClass("has-error")||t.loginSubmitBtn.attr("disabled",!1)},errorElement:"span",errorClass:"help-block",errorPlacement:function(n,t){t.length?n.insertAfter(t):n.insertAfter(t)}});t.loginSubmitBtn.click(function(n){(n.preventDefault(),t.loginForm.valid())&&abp.ui.setBusy(null,abp.ajax({url:abp.appPath+"Account/Login",type:"POST",data:JSON.stringify({tenancyName:t.loginForm.find("#TenancyName").val(),emailAddress:t.loginForm.find("#EmailAddressInput").val(),password:t.loginForm.find("#PasswordInput").val(),rememberMe:t.loginForm.find("#RememberMeInput").is(":checked"),returnUrlHash:t.loginForm.find("#ReturnUrlHash").val()})}))})},r=function(){var t=i.elems.getForgotPassword();t.forgotPasswordSubmitBtn.attr("disabled",!0);t.loginForgotPasswordLink.click(function(){t.forgotPasswordArea.modal("show")});t.forgotPasswordForm.validate({rules:{ForgotPasswordEmailAddress:{required:!0,email:!0,maxlength:LoginEmailAddress_MaxLength}},messages:{ForgotPasswordEmailAddress:{required:abp.localization.localize("EmailAddressMandatory","AbpWeb"),email:abp.localization.localize("EmailAddressInvalid","AbpWeb"),maxlength:abp.localization.localize("EmailAddressMaxLength","AbpWeb")}},onkeyup:function(t){n(t).valid()},onfocusout:!1,onclick:!1,highlight:function(n){i.validation.getHighlight(n);t.forgotPasswordSubmitBtn.attr("disabled",!0)},unhighlight:function(n){i.validation.getUnhighlight(n);t.forgotPasswordForm.find("div").hasClass("has-error")||t.forgotPasswordSubmitBtn.attr("disabled",!1)},errorElement:"span",errorClass:"help-block",errorPlacement:function(n,t){t.length?n.insertAfter(t):n.insertAfter(t)}});t.forgotPasswordSubmitBtn.click(function(n){(n.preventDefault(),t.forgotPasswordForm.valid())&&abp.ui.setBusy(null,abp.ajax({url:abp.appPath+"Account/ForgotPassword",data:JSON.stringify({emailAddress:form.find("#ForgotPasswordEmailAddress").val()})}).done(function(n){n.success?(area.modal("hide"),abp.message.success(n.result)):abp.message.warn(n.result)}))})},u=function(){var n=document.querySelector(".trigger-headline"),t=new Segmenter(document.querySelector(".segmenter"),{pieces:9,positions:[{top:30,left:5,width:40,height:80},{top:50,left:25,width:30,height:30},{top:5,left:75,width:40,height:20},{top:30,left:45,width:40,height:20},{top:45,left:15,width:50,height:40},{top:10,left:40,width:10,height:20},{top:20,left:50,width:30,height:70},{top:0,left:10,width:50,height:60},{top:70,left:40,width:30,height:30}],animation:{duration:6e3,easing:"easeInOutCubic",delay:1,opacity:1,translateZ:85,translateX:{min:-20,max:20},translateY:{min:-20,max:20}},parallax:!0,parallaxMovement:{min:5,max:10},onReady:function(){t.animate();n.classList.remove("trigger-headline--hidden")}})};t();r();u()}if(n){var i,r={settings:t.config.settings,elems:{getLogin:function(){var i=n("#LoginArea"),t=i.find("form"),r=t.find("#LoginSubmitButton"),u=n("#ReturnUrlHash");return{loginForm:t,loginSubmitBtn:r,returnUrlHash:u}},getForgotPassword:function(){var t=n("#ForgotPasswordArea"),i=t.find("form"),r=i.find("#ForgotPasswordSubmitButton"),u=this.getLogin().loginForm.find("#ForgotPasswordLink");return{forgotPasswordArea:t,forgotPasswordForm:i,forgotPasswordSubmitBtn:r,loginForgotPasswordLink:u}}},validation:t.config.validation};return{init:u}}}(jQuery,SITE||{});MODULE.init();